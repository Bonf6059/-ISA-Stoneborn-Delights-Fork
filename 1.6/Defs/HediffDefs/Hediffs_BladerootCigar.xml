<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <HediffDef>
    <defName>ISA_BladerootHigh</defName>
    <label>high on bladeroot</label>
    <labelNoun>a bladeroot high</labelNoun>
    <description>Bladeroot's active chemical in the bloodstream. Generates violent thoughts, and a strange itch for smashing things.</description>
    <hediffClass>Hediff_High</hediffClass>
    <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
    <scenarioCanAdd>true</scenarioCanAdd>
    <maxSeverity>1.0</maxSeverity>
    <isBad>false</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-1.0</severityPerDay>
        <showHoursToRecover>true</showHoursToRecover>
      </li>
    </comps>
      <stages>
        <li>
          <statFactors>
             <MeleeDamageFactor>1.3</MeleeDamageFactor>
          </statFactors>
		  <painOffset>-0.2</painOffset>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>-0.1</offset>
            </li>
            <li>
              <capacity>Moving</capacity>
              <offset>-0.1</offset>
            </li>
          </capMods>
        </li>
      </stages>
  </HediffDef>
  
  <ThoughtDef>
    <defName>ISA_BladerootHighThought</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>ISA_BladerootHigh</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <label>high on bladeroot</label>
        <description>Hooh! I could beat up a thrumbo!</description>
        <baseMoodEffect>12</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <!-- Bladeroot addiction -->

  <ChemicalDef>
    <defName>ISA_Bladeroot</defName>
    <label>Bladeroot</label>
    <addictionHediff>ISA_BladerootAddiction</addictionHediff>
    <toleranceHediff>ISA_BladerootTolerance</toleranceHediff>
    <onGeneratedAddictedToleranceChance>0.8</onGeneratedAddictedToleranceChance>
    <geneToleranceBuildupFactorResist>0.5</geneToleranceBuildupFactorResist>
    <geneToleranceBuildupFactorImmune>0</geneToleranceBuildupFactorImmune>
    <geneOverdoseChanceFactorResist>0.5</geneOverdoseChanceFactorResist>
    <geneOverdoseChanceFactorImmune>0</geneOverdoseChanceFactorImmune>
  </ChemicalDef>

  <NeedDef ParentName="DrugAddictionNeedBase">
    <defName>ISA_Chemical_Bladeroot</defName>
    <needClass>Need_Chemical</needClass>
    <label>bladeroot</label>
    <description>Because of a bladeroot dependence, this person needs to regularly consume the drug to avoid withdrawal symptoms.</description>
    <listPriority>25</listPriority>
  </NeedDef>
  
  <HediffDef ParentName="DrugToleranceBase">
    <defName>ISA_BladerootTolerance</defName>
    <label>bladeroot tolerance</label>
    <description>A built-up tolerance to bladeroot. The more severe this tolerance is, the more bladeroot it takes to get the same effect.</description>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.015</severityPerDay>
      </li>
      <li Class="HediffCompProperties_DrugEffectFactor">
        <chemical>ISA_Bladeroot</chemical>
      </li>
    </comps>
    <hediffGivers>
      <li Class="HediffGiver_RandomDrugEffect">
        <hediff>Asthma</hediff>
        <severityToMtbDaysCurve>
          <points>
            <li>(0.45, 99999)</li>
            <li>(0.5, 180)</li>
            <li>(1, 135)</li>
          </points>
        </severityToMtbDaysCurve>
        <partsToAffect>
          <li>Lung</li>
        </partsToAffect>
        <countToAffect>2</countToAffect>
      </li>
      <li Class="HediffGiver_RandomDrugEffect">
        <hediff>Carcinoma</hediff>
        <severityToMtbDaysCurve>
          <points>
            <li>(0.36, 99999)</li>
            <li>(0.4, 180)</li>
            <li>(1, 135)</li>
          </points>
        </severityToMtbDaysCurve>
        <partsToAffect>
          <li>Lung</li>
        </partsToAffect>
        <countToAffect>1</countToAffect>
      </li>
    </hediffGivers>
  </HediffDef>

  <HediffDef ParentName="AddictionBase">
    <defName>ISA_BladerootAddiction</defName>
    <label>bladeroot dependence</label>
    <description>A chemical addiction to bladeroot. Long-term use of bladeroot has caused neurological adaptations at the cellular level, so the brain can no longer function properly without the drug.
\nWithout regular doses of bladeroot, withdrawal symptoms will begin. However, extended abstinence will force the brain to adapt back to its normal state, resolving the addiction.</description>
    <hediffClass>Hediff_Addiction</hediffClass>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.0333</severityPerDay>
        <showDaysToRecover>true</showDaysToRecover>
      </li>
    </comps>
    <stages>
      <li>
      </li>
      <li>
        <label>withdrawal</label>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.20</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.15</offset>
          </li>
        </capMods>
        <mentalStateGivers>
          <li>
            <mentalState>Binging_Food</mentalState>
            <mtbDays>30</mtbDays>
          </li>
          <li>
            <mentalState>Binging_DrugMajor</mentalState>
            <mtbDays>50</mtbDays>
          </li>
        </mentalStateGivers>
      </li>
    </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>ISA_BladerootWithdrawalThought</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>ISA_BladerootAddiction</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <visible>false</visible>
      </li>
      <li>
        <label>bladeroot withdrawal</label>
        <description>I really wish I could smoke. I feel jittery, and my gut has that anxious sensation all the time.</description>
        <baseMoodEffect>-20</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>
  
</Defs>
