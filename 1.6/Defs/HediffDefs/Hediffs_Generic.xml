<?xml version="1.0" encoding="utf-8" ?>
<Defs>

<!-- Generic Chemical Def -->

  <ChemicalDef>
    <defName>ISA_DwarvenDrink</defName>
    <label>dwarven brews</label>
    <addictionHediff>ISA_DwarvenBrewAddiction</addictionHediff>
    <toleranceHediff>ISA_DwarvenBrewTolerance</toleranceHediff>
    <onGeneratedAddictedToleranceChance>0.11</onGeneratedAddictedToleranceChance>
    <onGeneratedAddictedEvents>
      <li>
        <hediff>Cirrhosis</hediff>
        <chance>0.25</chance>
        <partsToAffect>
          <li>Liver</li>
        </partsToAffect>
      </li>
    </onGeneratedAddictedEvents>
  </ChemicalDef>

  <NeedDef ParentName="DrugAddictionNeedBase">
    <defName>ISA_Chemical_DwarvenDrink</defName>
    <needClass>Need_Chemical</needClass>
    <label>dwarven brews</label>
    <description>Because of an addiction to dwarven alcohols, this person needs to regularly consume them to avoid withdrawal symptoms.</description>
    <listPriority>35</listPriority>
  </NeedDef>

  <HediffDef ParentName="DrugToleranceBase">
    <defName>ISA_DwarvenBrewTolerance</defName>
    <label>dwarven brew tolerance</label>
    <description>A built-up tolerance to all dwarven alcohols. The more severe this tolerance is, the more it takes to get the same effect.</description>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.016</severityPerDay>
      </li>
      <li Class="HediffCompProperties_DrugEffectFactor">
        <chemical>ISA_DwarvenDrink</chemical>
      </li>
    </comps>
  </HediffDef>

  <HediffDef ParentName="AddictionBase">
    <defName>ISA_DwarvenBrewAddiction</defName>
    <label>dwarven brew addiction</label>
    <description>A chemical addiction to various dwarven brews. Their long-term presence has caused neurological adaptations at the cellular level, so the brain can no longer function properly without the drug.
\nWithout regular doses, withdrawal symptoms will begin. However, extended abstinence will force the brain to adapt back to its normal state, resolving the addiction.</description>
    <hediffClass>Hediff_Addiction</hediffClass>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.0245</severityPerDay>
        <showDaysToRecover>true</showDaysToRecover>
      </li>
    </comps>
    <stages>
      <li>
      </li>
      <li>
        <label>withdrawal</label>
        <socialFightChanceFactor>2.2</socialFightChanceFactor>
        <statFactors>
          <WorkSpeedGlobal>0.8</WorkSpeedGlobal>
        </statFactors>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.20</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.30</offset>
          </li>
          <li>
            <capacity>Manipulation</capacity>
            <postFactor>0.6</postFactor>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>ISA_DwarvenBrewWithdrawalThought</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>ISA_DwarvenBrewAddiction</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <visible>false</visible>
      </li>
      <li>
        <label>missing the kick</label>
        <description>There's just nothing quite like a good ol' drink. I don't feel like doing anythin'..</description>
        <baseMoodEffect>-32</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

</Defs>
